---
// src/components/sections/QuemE.astro
---

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">

<section id="queme" class="quem-e-container">
  <div class="quem-e-retangulo">

    <div class="quem-e-texto">
      <h2>Quem √©?</h2>

      <!-- imagem flutuante -->
      <picture>
        <source srcset="/images/queme.webp" type="image/webp">
        <img
          src="/images/queme.jpg"
          alt="Ronaldo Quadrado"
          class="quem-e-imagem"
          loading="lazy"
        />
      </picture>

      <!-- √ÅREA FIXA DO TEXTO -->
      <div class="texto-area">
        <div class="texto-parte ativa">
          <p>
            Filho de Lia e Leovaldo, iniciei minha milit√¢ncia pol√≠tica no movimento
            estudantil secundarista da Escola Joaquim Duval. Mais tarde, na
            Universidade Federal de Pelotas (UFPel), atuei no Centro Acad√™mico do
            curso de Hist√≥ria e cheguei √† coordena√ß√£o geral do Diret√≥rio Central dos
            Estudantes (DCE).
          </p>
          <p>
            Minha caminhada tamb√©m inclui o trabalho comunit√°rio: fui Agente
            Comunit√°rio de Sa√∫de no Monte Bonito e, por duas vezes, eleito
            Conselheiro Tutelar. No Partido dos Trabalhadores, exerci diversas
            fun√ß√µes ‚Äî Secret√°rio de Juventude, Secret√°rio-Geral, Vice-presidente e,
            no PED de 2025, fui eleito Presidente Municipal.
          </p>
        </div>

        <div class="texto-parte">
          <p>
            Atuei ainda como assessor do ex-deputado federal Fernando Marroni e do
            deputado estadual Edegar Pretto, durante sua presid√™ncia na Assembleia
            Legislativa do Rio Grande do Sul.
          </p>
          <p>
            Minha trajet√≥ria sempre esteve vinculada √† mobiliza√ß√£o popular e ao
            trabalho coletivo, junto de movimentos sociais, sindicatos e
            trabalhadores do campo e da cidade.
          </p>
        </div>

        <div class="texto-parte">
          <p>
            Acredito que o PT √© a principal ferramenta de transforma√ß√£o da classe
            trabalhadora e seguir√° como resist√™ncia, enfrentando o fascismo e
            defendendo os servi√ßos p√∫blicos.
          </p>
          <p>
            Este mandato n√£o √© individual. √â coletivo ‚Äî e continuar√° sendo assim.
          </p>
        </div>
      </div>

      <!-- continuar textual -->
      <span class="continuar-texto">Continuar ‚Üí</span>
    </div>

  </div>
</section>

<style>
#queme {
  position: relative;
  z-index: 3;
}

.quem-e-container {
  max-width: 830px;
  margin: 40px auto;
  padding: 0 20px;
  font-family: 'Inter', sans-serif;
}

.quem-e-retangulo {
  background-color: #fc7804;
  color: white;
  border-radius: 8px;
  padding: 32px;
}

/* texto */
.quem-e-texto h2 {
  margin-top: 0;
}

/* imagem flutuante */
.quem-e-imagem {
  width: 140px;
  height: 140px;
  float: left;
  margin: 4px 20px 12px 0;
  border-radius: 8px;
  border: 4px solid white;
  object-fit: cover;
}

/* √°rea fixa */
.texto-area {
  height: 250px; /* ajuste aqui se precisar */
}

/* partes */
.texto-parte {
  display: none;
}

.texto-parte.ativa {
  display: block;
}

.texto-parte p {
  font-size: 1.05rem;
  line-height: 1.6;
  margin: 0 0 12px 0;
  text-align: justify;
  text-indent: 1.5em; /* üëà recuo */
}

/* continuar como texto */
.continuar-texto {
  display: block;
  margin-top: 8px;
  font-weight: 700;
  cursor: pointer;
  user-select: none;
  text-align: right; /* üëà direita garantida */
}

.continuar-texto:hover {
  text-decoration: underline;
}

/* ===== MOBILE ===== */
@media (max-width: 768px) {
  .quem-e-imagem {
    float: none;
    display: block;
    margin: 0 auto 16px auto;
  }

  .texto-area {
    height: 500px;
  }

  .texto-parte p {
    font-size: 0.95rem;
  }

  .continuar-texto {
    display: block;
    text-align: center;
  }
}
</style>

<script is:inline>
document.addEventListener('DOMContentLoaded', () => {
  const partes = document.querySelectorAll('#queme .texto-parte');
  const continuar = document.querySelector('#queme .continuar-texto');

  let atual = 0;

  continuar.addEventListener('click', () => {
    partes[atual].classList.remove('ativa');
    atual = (atual + 1) % partes.length;
    partes[atual].classList.add('ativa');

    continuar.textContent =
      atual === partes.length - 1
        ? 'Voltar ao in√≠cio'
        : 'Continuar ‚Üí';
  });
});
</script>
